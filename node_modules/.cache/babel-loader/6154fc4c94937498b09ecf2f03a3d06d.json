{"ast":null,"code":"var _jsxFileName = \"D:\\\\tranning2\\\\src\\\\component\\\\poll_detail\\\\index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axios from \"axios\";\nDetail.propTypes = {};\n\nfunction Detail(props) {\n  const [item, setItem] = useState();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const id = props.match.match.params.id;\n\n    async function fetchDetailPoll() {\n      const data = await Axios.get(`https://dev.miagi-so.net/api/v1/poll/${id}/show`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        return res.data;\n      }).catch(err => console.log(err));\n      setItem(data);\n    }\n\n    fetchDetailPoll();\n  }, []);\n\n  const showUserPollAnswer = () => {};\n\n  const showPollQuestion = poll_question => {\n    let index = 0;\n    const total_poll_answer = poll_question.map(a => {\n      return index += a.poll_answer.length;\n    });\n    return poll_question.map((poll_item, i) => {\n      console.log(poll_item);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      }, poll_item.content), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, poll_item.poll_answer.length / index * 100), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }, showUserPollAnswer(poll_question)));\n    });\n  };\n\n  const showItem = () => {\n    if (item) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }\n      }, item.content), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, showPollQuestion(item.poll_question)));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }\n  }, showItem());\n}\n\nexport default Detail;","map":{"version":3,"sources":["D:/tranning2/src/component/poll_detail/index.js"],"names":["React","useEffect","useState","PropTypes","Axios","Detail","propTypes","props","item","setItem","token","localStorage","getItem","id","match","params","fetchDetailPoll","data","get","headers","Authorization","then","res","catch","err","console","log","showUserPollAnswer","showPollQuestion","poll_question","index","total_poll_answer","map","a","poll_answer","length","poll_item","i","content","showItem"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAC,MAAM,CAACC,SAAP,GAAmB,EAAnB;;AAEA,SAASD,MAAT,CAAgBE,KAAhB,EAAuB;AACrB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,EAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,EAAE,GAAGN,KAAK,CAACO,KAAN,CAAYA,KAAZ,CAAkBC,MAAlB,CAAyBF,EAApC;;AACA,mBAAeG,eAAf,GAAiC;AAC/B,YAAMC,IAAI,GAAG,MAAMb,KAAK,CAACc,GAAN,CAChB,wCAAuCL,EAAG,OAD1B,EAEjB;AACEM,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASV,KAAM;AADxB;AADX,OAFiB,EAQhBW,IARgB,CAQVC,GAAD,IAAS;AACb,eAAOA,GAAG,CAACL,IAAX;AACD,OAVgB,EAWhBM,KAXgB,CAWTC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAXC,CAAnB;AAYAf,MAAAA,OAAO,CAACQ,IAAD,CAAP;AACD;;AACDD,IAAAA,eAAe;AAChB,GAnBQ,EAmBN,EAnBM,CAAT;;AAqBA,QAAMW,kBAAkB,GAAG,MAAM,CAAE,CAAnC;;AAEA,QAAMC,gBAAgB,GAAIC,aAAD,IAAmB;AAC1C,QAAIC,KAAK,GAAG,CAAZ;AACA,UAAMC,iBAAiB,GAAGF,aAAa,CAACG,GAAd,CAAmBC,CAAD,IAAO;AACjD,aAAQH,KAAK,IAAIG,CAAC,CAACC,WAAF,CAAcC,MAA/B;AACD,KAFyB,CAA1B;AAIA,WAAON,aAAa,CAACG,GAAd,CAAkB,CAACI,SAAD,EAAYC,CAAZ,KAAkB;AACzCZ,MAAAA,OAAO,CAACC,GAAR,CAAYU,SAAZ;AACA,0BACE;AAAK,QAAA,GAAG,EAAEC,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,SAAS,CAACE,OAAf,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,SAAS,CAACF,WAAV,CAAsBC,MAAtB,GAA+BL,KAAhC,GAAyC,GAA7C,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMH,kBAAkB,CAACE,aAAD,CAAxB,CAHF,CADF;AAOD,KATM,CAAP;AAUD,GAhBD;;AAkBA,QAAMU,QAAQ,GAAG,MAAM;AACrB,QAAI/B,IAAJ,EAAU;AACR,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,IAAI,CAAC8B,OAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMV,gBAAgB,CAACpB,IAAI,CAACqB,aAAN,CAAtB,CAFF,CADF;AAMD;AACF,GATD;;AAUA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMU,QAAQ,EAAd,CAAP;AACD;;AAED,eAAelC,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Axios from \"axios\";\r\n\r\nDetail.propTypes = {};\r\n\r\nfunction Detail(props) {\r\n  const [item, setItem] = useState();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const id = props.match.match.params.id;\r\n    async function fetchDetailPoll() {\r\n      const data = await Axios.get(\r\n        `https://dev.miagi-so.net/api/v1/poll/${id}/show`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n        .then((res) => {\r\n          return res.data;\r\n        })\r\n        .catch((err) => console.log(err));\r\n      setItem(data);\r\n    }\r\n    fetchDetailPoll();\r\n  }, []);\r\n\r\n  const showUserPollAnswer = () => {};\r\n\r\n  const showPollQuestion = (poll_question) => {\r\n    let index = 0;\r\n    const total_poll_answer = poll_question.map((a) => {\r\n      return (index += a.poll_answer.length);\r\n    });\r\n\r\n    return poll_question.map((poll_item, i) => {\r\n      console.log(poll_item);\r\n      return (\r\n        <div key={i}>\r\n          <h1>{poll_item.content}</h1>\r\n          <p>{(poll_item.poll_answer.length / index) * 100}</p>\r\n          <div>{showUserPollAnswer(poll_question)}</div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const showItem = () => {\r\n    if (item) {\r\n      return (\r\n        <div>\r\n          <h2>{item.content}</h2>\r\n          <div>{showPollQuestion(item.poll_question)}</div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return <div>{showItem()}</div>;\r\n}\r\n\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}